# Java方法绑定

> 参考：[https://www.cnblogs.com/ygj0930/p/6554103.html](https://www.cnblogs.com/ygj0930/p/6554103.html)

### 1.Java方法绑定

- 把一个方法与其所在的类/对象，关联起来叫做方法的绑定。绑定分为静态绑定（前期绑定）和动态绑定（后期绑定）。

### 2.怎么区分“静态绑定”和“动态绑定”

- 静态绑定（前期绑定）
	- 程序在JVM运行过程中，会把类的 类型信息、static属性、方法、final常量等元数据加载到方法区，如果在类被加载时就已经确定，不需对象的创建才能确定的内容，就是静态绑定的内容
	- 在Java中，final、private、static修饰的方法以及构造函数都是静态绑定的，不需程序运行，不需具体的实例对象就可以知道这个方法的具体内容。
- 动态绑定（后期绑定）
	- 需要等对象创建出来，使用时根据堆中的实例对象的类型才进行确定的内容就是动态绑定的内容。
	- 在运行时，根据具体的实例对象，才能具体确定具体是哪个方法。
	- 每个类被加载到虚拟机时，在方法区中，有一个叫做 方法表（method table）的东西，表中记录了这个类定义的方法的指针，每个表项指向一个具体的方法代码。如果子类中重写了父类的方法，则方法表中同名表项会指向子类的方法代码，若无重写，则按照父类中的方法表顺序保存在子类方法表中。

### 3.java方法的动态绑定是如何实现的？

- 每个类被加载到虚拟机时，在方法区中，有一个 方法表（method table），表中记录了这个类定义的方法的指针，每个表项指向一个具体的方法代码。如果子类中重写了父类的方法，则方法表中同名表项会指向子类的方法代码，若无重写，则按照父类中的方法表顺序保存在子类方法表中。
	
### 4.“动态绑定”和“多态”的联系

- 动态绑定是多态性得以实现的重要因素。
	
```
//我们假设：Son继承自Father，重写了say()。
Father ft = new Son();
ft.say();	
```

- 编译时期
	- 父类引用指向子类对象，父类引用可以调用子类中重写了的同名方法。但是不能调用子类中新增的方法
	- 编译阶段，只是为了安全地通过编译（也为了检验方法是否是存在的）
- 运行时期
	- ft.say()调用的是Son中的say()；
	- 而在运行阶段，Father ft = new Son(); 这一句时创建了一个Son实例对象，然后在 ft.say() 调用方法时，JVM会把刚才的son对象压入操作数栈，用它来进行调用。
	